var c=(o=>(o.Items="items",o.AddButton="add",o.ItemsSlot="items-slot",o.EditButton="edit",o.RemoveButton="remove",o.Placeholder="placeholder",o))(c||{}),E=(t=>(t.RemoveButton="remove-button",t.EditButton="edit-button",t))(E||{}),p=new Set(["style","template"]),h=`<div id="items" part="items">
    <div id="placeholder" part="placeholder"></div>
    <slot id="items-slot" part="items-slot"></slot>
</div>
<slot name="add"><button id="add" part="add" type="button">&plus;</button></slot>`,v=`
* { box-sizing: border-box; }
:host
{
    /* begin default ul styles */
    display: block;
    list-style-type: disc;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    padding-inline-start: 40px;
    /* end default ul styles */
}
:host(:not(.empty)) #placeholder
{
    display: none;
}
`,u=new CSSStyleSheet;u.replaceSync(v);var r="editable-list",m=class extends HTMLElement{canRemove=!0;canEdit=!1;#e=new Map([["add",this.#s.bind(this)]]);findElement(s){return this.shadowRoot.getElementById(s)}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=h,this.shadowRoot.adoptedStyleSheets.push(u),this.addEventListener("click",t=>{let e=t.composedPath().find(l=>l instanceof HTMLButtonElement);if(e==null)return;let n=e.parentElement;if(e.classList.contains("edit")){let l=this.dispatchEvent(new CustomEvent("edit",{detail:n,bubbles:!0}));this.hasAttribute("cancel-edit")&&(t.preventDefault(),t.stopPropagation())}else e.classList.contains("remove")&&(this.dispatchEvent(new CustomEvent("remove",{detail:n,bubbles:!0,cancelable:!0}))==!0&&n.remove(),this.hasAttribute("cancel-remove")&&(t.preventDefault(),t.stopPropagation()))}),this.findElement("add")?.addEventListener("click",this.#e.get("add")),this.findElement("items-slot").addEventListener("slotchange",this.#t.bind(this)),this.findElement("items-slot").assignedElements().length==0?(this.classList.add("empty"),this.part.add("empty")):(this.classList.remove("empty"),this.part.remove("empty"))}static create(s){let t=document.createElement(r);if(s==null)return t;for(let[e,n]of Object.entries(s))if(e=="remove")n==!1?t.setAttribute(e,"false"):t.removeAttribute(e);else if(e=="edit")n==!0?t.setAttribute(e,"true"):t.removeAttribute(e);else if(e.startsWith("on")){let l=e.substring(2).toLowerCase();t.addEventListener(l,n)}return t}#s(){this.dispatchEvent(new CustomEvent("add"))}#t(){let s=this.findElement("items-slot").assignedElements();s.length==0||s.every(t=>t instanceof HTMLTemplateElement)?(this.classList.add("empty"),this.part.add("empty")):(this.classList.remove("empty"),this.part.remove("empty"));for(let t=0;t<s.length;t++){let e=s[t];if(p.has(e.tagName.toLowerCase()))continue;if(e.tagName.toLowerCase()=="slot"){s.push(...e.assignedElements());continue}let n=s[t],l=s[t].querySelector("button.edit");if(this.canEdit){if(l==null){let i=document.createElement("button");i.type="button";let a=this.getAttribute("edit-class")?.trim()??"";i.classList.add("edit"),a!=""&&i.classList.add(...a.split(" ")),i.setAttribute("part",`edit${a!=""?` ${a}`:""}`);let d=this.querySelector('template[part="edit-button"]');d!=null?i.append(d.content.cloneNode(!0)):i.textContent="\u2026",n.appendChild(i)}}else l?.remove();let o=s[t].querySelector("button.remove");if(this.canRemove){if(o==null){let i=document.createElement("button");i.type="button";let a=this.getAttribute("remove-class")?.trim()??"";i.classList.add("remove"),a!=""&&i.classList.add(...a.split(" ")),i.setAttribute("part",`remove${a!=""?` ${a}`:""}`);let d=this.querySelector('template[part="remove-button"]');d!=null?i.append(d.content.cloneNode(!0)):i.textContent="\xD7",n.appendChild(i)}}else o?.remove()}}static observedAttributes=["remove","edit","placeholder"];attributeChangedCallback(s,t,e){s=="remove"?(e==null||e.trim()=="true"?this.canRemove=!0:this.canRemove=!1,this.#t()):s=="edit"?(e==null||e.trim()!="true"?this.canEdit=!1:this.canEdit=!0,this.#t()):s=="placeholder"&&(this.findElement("placeholder").textContent=e)}};customElements.get(r)==null&&customElements.define(r,m);export{E as ButtonTemplatePart,m as EditableListElement,c as EditableListPart};
