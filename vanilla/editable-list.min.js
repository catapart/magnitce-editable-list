export var EditableListPart,f='editable-list';(function(a){a['Items']='items';a['AddButton']='add';a['ItemsSlot']='items-slot';a['EditButton']='edit';a['RemoveButton']='remove'})(EditableListPart||(EditableListPart={}));export var ButtonTemplatePart;(function(A){A['RemoveButton']='remove-button';A['EditButton']='edit-button'})(ButtonTemplatePart||(ButtonTemplatePart={}));var c=new Set(['style','template']);var d=`<div part="${EditableListPart.Items}"><slot part="${EditableListPart.ItemsSlot}"></slot></div>
<slot name="add"><button part="${EditableListPart.AddButton}" type="button">&plus;</button></slot>`;var e=new CSSStyleSheet();e.replaceSync(`
* { box-sizing: border-box; }
:host
{
    /* begin default ul styles */
    display: block;
    list-style-type: disc;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    padding-inline-start: 40px;
    /* end default ul styles */
}`);export class EditableListElement extends HTMLElement{canRemove=!0;canEdit=!1;#boundEventHandlers=new Map([['add',this.#addButton_onClick.bind(this)]]);componentParts=new Map();getPart(_){if(this.componentParts.get(_)==null){var b=this.shadowRoot.querySelector(`[part="${_}"]`);b!=null&&this.componentParts.set(_,b)}return this.componentParts.get(_)}findPart(B){return this.shadowRoot.querySelector(`[part="${B}"]`)}constructor(){super();this.attachShadow({mode:'open'});this.shadowRoot.innerHTML=d;this.shadowRoot.adoptedStyleSheets.push(e);this.addEventListener('click',C=>{let _b=C.composedPath().find(_a=>_a instanceof HTMLButtonElement);if(_b==null)return;let _c=_b.parentElement;var D=_b.getAttribute('part');if(D=='edit')this.dispatchEvent(new CustomEvent('edit', {detail:_c,bubbles:!0}));else if(D=='remove'){var E=this.dispatchEvent(new CustomEvent('remove', {detail:_c,bubbles:!0,cancelable:!0}));E==!0&&_c.remove()}});this.findPart(EditableListPart.AddButton)?.addEventListener('click',this.#boundEventHandlers.get('add'));this.getPart(EditableListPart.ItemsSlot).addEventListener('slotchange',this.#updateItemButtons.bind(this))}static create(_A){var _B=document.createElement(f);if(_A==null)return _B;for(const[aA,aB] of Object.entries(_A))if(aA=='remove')(aB==!1)?_B.setAttribute(aA,'false'):_B.removeAttribute(aA);else if(aA=='edit')(aB==!0)?_B.setAttribute(aA,'true'):_B.removeAttribute(aA);else if(aA.startsWith('on')){var _C=aA.substring(2).toLowerCase();_B.addEventListener(_C,aB)}return _B}#addButton_onClick(){this.dispatchEvent(new CustomEvent('add'))}#updateItemButtons(){var aC=this.getPart(EditableListPart.ItemsSlot).assignedElements();for(const[i,aF] of aC.entries()){if(c.has(aF.tagName.toLowerCase()))continue;else if(aF.tagName.toLowerCase()=='slot'){aC.push(...aF.assignedElements());continue}var aD=aC[i],aE=aC[i].querySelector(`button[part="${EditableListPart.EditButton}"]`);if(this.canEdit)if(aE==null){var _d=document.createElement('button');_d.type='button';_d.setAttribute('part','edit');var _e=this.querySelector(`template[part="${ButtonTemplatePart.EditButton}"]`);_e!=null?_d.append(_e.content.cloneNode(!0)):_d.textContent='…';aD.appendChild(_d)}else aE!=null&&aE.remove();var F=aC[i].querySelector(`button[part="${EditableListPart.RemoveButton}"]`);if(this.canRemove)if(F==null){var g=document.createElement('button');g.type='button';g.setAttribute('part','remove');const aG=this.querySelector(`template[part="${ButtonTemplatePart.RemoveButton}"]`);aG!=null?g.append(aG.content.cloneNode(!0)):g.textContent='×';aD.appendChild(g)}else F!=null&&F.remove()}}static observedAttributes=['remove','edit'];attributeChangedCallback(aH,aI,aJ){if(aH=='remove'){aJ==null||aJ.trim()=='true'?this.canRemove=!0:this.canRemove=!1;this.#updateItemButtons()}else if(aH=='edit'){aJ==null||aJ.trim()!='true'?this.canEdit=!1:this.canEdit=!0;this.#updateItemButtons()}}}customElements.get(f)==null&&customElements.define(f,EditableListElement);
